<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Fides | Invoice</title>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <!-- Bootstrap 3.3.2 -->
    <link href="../../bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <!-- Font Awesome Icons -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <!-- Ionicons -->
    <link href="http://code.ionicframework.com/ionicons/2.0.0/css/ionicons.min.css" rel="stylesheet" type="text/css" />
    <!-- DATA TABLES -->
    <link href="../../plugins/datatables/dataTables.bootstrap.css" rel="stylesheet" type="text/css" />
    <!-- Theme style -->
    <link href="../../dist/css/AdminLTE.min.css" rel="stylesheet" type="text/css" />
    <!-- AdminLTE Skins. Choose a skin from the css/skins 
         folder instead of downloading all of them to reduce the load. -->
    <link href="../../dist/css/skins/_all-skins.min.css" rel="stylesheet" type="text/css" />

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>
  <body class="skin-blue">
   <script>
		var remote = require('remote');
		var Menu = remote.require('menu');
		var template = [
		];

		menu = Menu.buildFromTemplate(template);

		Menu.setApplicationMenu(menu);
	</script>
    <div class="wrapper">
      <aside class="main-sidebar">
        <!-- sidebar: style can be found in sidebar.less -->
        <section class="sidebar">
          <!-- sidebar menu: : style can be found in sidebar.less -->
          <ul class="sidebar-menu">
            <li class="header">MEN&Ugrave; FIDES</li>
            <li class="treeview">
              <a href="#">
                <i class="fa fa-male"></i>
                <span>Clienti</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu">
                <li><a href="../../pages/client/getClients.html"><i class="fa fa-circle-o"></i> Lista Clienti</a></li>
                <li><a href="../../pages/client/addClient.html"><i class="fa fa-circle-o"></i> Inserisci Cliente</a></li>
              </ul>
            </li>
            <li class="treeview">
              <a href="#">
                <i class="fa fa-pencil-square"></i>
                <span>Prodotti</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu">
                <li><a href="../../pages/product/getProducts.html"><i class="fa fa-circle-o"></i> Lista Prodotti</a></li>
                <li><a href="../../pages/product/addProduct.html"><i class="fa fa-circle-o"></i> Inserisci Prodotto</a></li>
              </ul>
            </li>
			<li class="active treeview">
              <a href="#">
                <i class="fa fa-barcode"></i>
                <span>Fatture</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu">
                <li class="active"><a href="../../pages/invoice/getInvoices.html"><i class="fa fa-circle-o"></i> Lista Fatture</a></li>
                <li><a href="../../pages/invoice/addInvoice.html"><i class="fa fa-circle-o"></i> Inserisci Fattura</a></li>
              </ul>
            </li>
          </ul>
        </section>
        <!-- /.sidebar -->
      </aside>
      <!-- Content Wrapper. Contains page content -->
      <div class="content-wrapper">
        <!-- Main content -->
        <section class="content">
          <div class="row">
            <div class="col-xs-12">
              <div class="box">
                <div class="box-header">
                  <h3 class="box-title">Fatture registrate</h3>
                </div><!-- /.box-header -->
                <div class="box-body">
                  <table id="tableInvoices" class="table table-bordered table-striped">
					<tbody>
					</tbody>
                  </table>
                </div><!-- /.box-body -->
              </div><!-- /.box -->
            </div><!-- /.col -->
          </div><!-- /.row -->
		  
		  
		  <div class="row" id="spanLettura1" hidden>
            <!-- left column -->
            <div class="col-xs-6">
              <!-- general form elements -->
              <div class="box box-warning col-md-12">
                <!-- form start -->
                <form role="form">
                  <div class="box-body">
					<div class="form-group">
                      <input type="text" hidden value="" id="hidden">
                    </div>
                    <div class="form-group">
                      <label for="piva">P. Iva: </label>
					  <div class="input-group">
						  <div class="input-group-addon">
							<i class="fa fa-list-ul"></i>
						  </div>
							<input type="text" class="form-control" id="piva" disabled>
						</div>
                    </div>
                    <div class="form-group">
                      <label for="riferimenti">Riferimenti: </label>
					  <div class="input-group">
						  <div class="input-group-addon">
							<i class="fa fa-eur"></i>
						  </div>
						<input type="text" class="form-control" id="riferimenti" disabled>
						</div>
                    </div>
                    <div class="form-group" >
                      <label for="indirizzo">Consegna: </label>
					  <div class="input-group">
						  <div class="input-group-addon">
							<i class="fa fa-asterisk"></i>
						  </div>
						<input type="text" class="form-control" id="indirizzo" disabled>
					  </div>
                    </div>
					<div class="form-group" >
                      <label for="codicefiscale">Codice Fiscale: </label>
					  <div class="input-group">
						  <div class="input-group-addon">
							<i class="fa fa-asterisk"></i>
						  </div>
						<input type="text" class="form-control" id="codicefiscale" disabled>
					  </div>
                    </div>
					<div class="form-group" >
                      <label for="pagamenti">Pagamenti: </label>
					  <div class="input-group">
						  <div class="input-group-addon">
							<i class="fa fa-asterisk"></i>
						  </div>
						<input type="text" class="form-control" id="pagamenti" disabled>
					  </div>
                    </div>
					<div class="form-group" >
                      <label for="art">Non imponibile Art: </label>
					  <div class="input-group">
						  <div class="input-group-addon">
							<i class="fa fa-asterisk"></i>
						  </div>
						<input type="text" class="form-control" id="art" disabled>
					  </div>
                    </div>
                  </div><!-- /.box-body -->
                </form>
              </div><!-- /.box -->
			</div><!--/.col (right) -->
          
			<div class="col-xs-6">
              <!-- general form elements -->
              <div class="box box-warning col-md-12">
                <!-- form start -->
                <form role="form">
                  <div class="box-body">
                    <div class="form-group">
                      <label for="extNumb">N. Fattura: </label>
					  <div class="input-group">
						  <div class="input-group-addon">
							<i class="fa fa-list-ul"></i>
						  </div>
							<input type="text" class="form-control" id="extNumb" disabled>
						</div>
                    </div>
                    <div class="form-group">
                      <label for="data">Data: </label>
					  <div class="input-group">
						  <div class="input-group-addon">
							<i class="fa fa-eur"></i>
						  </div>
						<input type="text" class="form-control" id="data" disabled>
						</div>
                    </div>
                    <div class="form-group" >
                      <label for="imponibile">Imponibile: </label>
					  <div class="input-group">
						  <div class="input-group-addon">
							<i class="fa fa-asterisk"></i>
						  </div>
						<input type="text" class="form-control" id="imponibile" disabled>
					  </div>
                    </div>
					<div class="form-group" >
                      <label for="totale">Totale: </label>
					  <div class="input-group">
						  <div class="input-group-addon">
							<i class="fa fa-asterisk"></i>
						  </div>
						<input type="text" class="form-control" id="totale" disabled>
					  </div>
                    </div>
					<div class="form-group" >
                      <label for="iva">Iva: </label>
					  <div class="input-group">
						  <div class="input-group-addon">
							<i class="fa fa-asterisk"></i>
						  </div>
						<input type="text" class="form-control" id="iva" disabled>
					  </div>
                    </div>
					<div class="form-group" >
                      <label for="artDescr">Non Imponibile: </label>
					  <div class="input-group">
						  <div class="input-group-addon">
							<i class="fa fa-asterisk"></i>
						  </div>
						<input type="text" class="form-control" id="artDescr" disabled>
					  </div>
                    </div>
                  </div><!-- /.box-body -->
                </form>
              </div><!-- /.box -->
			</div><!--/.col (right) -->
		  </div> 
		
		  <div class="row" id="spanLettura2" hidden>
            <div class="col-xs-12">
              <div class="box">
                <div class="box-body table-responsive no-padding">
                  <table class="table table-hover">
				   <tbody>
					<tr>
                      <th>Quantit&agrave;</th>
                      <th>Articolo</th>
                      <th>Descrizione</th>
                      <th>Prezzo</th>
                      <th>Sc.</th>
                      <th>Importo</th>
                    </tr>
                    <tr>
                      <td><input type="text" class="form-control" id="quantitaProdotto1" disabled></td>
                      <td><input type="text" class="form-control" id="articoloProdotto1" disabled></td>
                      <td><input type="text" class="form-control" id="descrizioneProdotto1" disabled>
                      <td><input type="text" class="form-control" id="prezzoProdotto1" disabled></td>
                      <td><input type="text" class="form-control" id="scontoProdotto1" disabled></td>	
                      <td><input type="text" class="form-control" id="importoProdotto1" disabled></td>
                    </tr>
					<tr>
                      <td><input type="text" class="form-control" id="quantitaProdotto2" disabled></td>
                      <td><input type="text" class="form-control" id="articoloProdotto2" disabled></td>
                      <td><input type="text" class="form-control" id="descrizioneProdotto2" disabled>
                      <td><input type="text" class="form-control" id="prezzoProdotto2" disabled></td>
                      <td><input type="text" class="form-control" id="scontoProdotto2" disabled></td>	
                      <td><input type="text" class="form-control" id="importoProdotto2" disabled></td>
                    </tr>
					<tr>
                      <td><input type="text" class="form-control" id="quantitaProdotto3" disabled></td>
                      <td><input type="text" class="form-control" id="articoloProdotto3" disabled></td>
                      <td><input type="text" class="form-control" id="descrizioneProdotto3" disabled>
                      <td><input type="text" class="form-control" id="prezzoProdotto3" disabled></td>
                      <td><input type="text" class="form-control" id="scontoProdotto3" disabled></td>	
                      <td><input type="text" class="form-control" id="importoProdotto3" disabled></td>
                    </tr>
					<tr>
                      <td><input type="text" class="form-control" id="quantitaProdotto4" disabled></td>
                      <td><input type="text" class="form-control" id="articoloProdotto4" disabled></td>
                      <td><input type="text" class="form-control" id="descrizioneProdotto4" disabled>
                      <td><input type="text" class="form-control" id="prezzoProdotto4" disabled></td>
                      <td><input type="text" class="form-control" id="scontoProdotto4" disabled></td>	
                      <td><input type="text" class="form-control" id="importoProdotto4" disabled></td>
                    </tr>
					<tr>
                      <td><input type="text" class="form-control" id="quantitaProdotto5" disabled></td>
                      <td><input type="text" class="form-control" id="articoloProdotto5" disabled></td>
                      <td><input type="text" class="form-control" id="descrizioneProdotto5" disabled>
                      <td><input type="text" class="form-control" id="prezzoProdotto5" disabled></td>
                      <td><input type="text" class="form-control" id="scontoProdotto5" disabled></td>	
                      <td><input type="text" class="form-control" id="importoProdotto5" disabled></td>
                    </tr>
					<tr>
                      <td><input type="text" class="form-control" id="quantitaProdotto6" disabled></td>
                      <td><input type="text" class="form-control" id="articoloProdotto6" disabled></td>
                      <td><input type="text" class="form-control" id="descrizioneProdotto6" disabled>
                      <td><input type="text" class="form-control" id="prezzoProdotto6" disabled></td>
                      <td><input type="text" class="form-control" id="scontoProdotto6" disabled></td>	
                      <td><input type="text" class="form-control" id="importoProdotto6" disabled></td>
                    </tr>
					<tr>
                      <td><input type="text" class="form-control" id="quantitaProdotto7" disabled></td>
                      <td><input type="text" class="form-control" id="articoloProdotto7" disabled></td>
                      <td><input type="text" class="form-control" id="descrizioneProdotto7" disabled>
                      <td><input type="text" class="form-control" id="prezzoProdotto7" disabled></td>
                      <td><input type="text" class="form-control" id="scontoProdotto7" disabled></td>	
                      <td><input type="text" class="form-control" id="importoProdotto7" disabled></td>
                    </tr>
					<tr>
                      <td><input type="text" class="form-control" id="quantitaProdotto8" disabled></td>
                      <td><input type="text" class="form-control" id="articoloProdotto8" disabled></td>
                      <td><input type="text" class="form-control" id="descrizioneProdotto8" disabled>
                      <td><input type="text" class="form-control" id="prezzoProdotto8" disabled></td>
                      <td><input type="text" class="form-control" id="scontoProdotto8" disabled></td>	
                      <td><input type="text" class="form-control" id="importoProdotto8" disabled></td>
                    </tr>
					<tr>
                      <td><input type="text" class="form-control" id="quantitaProdotto9" disabled></td>
                      <td><input type="text" class="form-control" id="articoloProdotto9" disabled></td>
                      <td><input type="text" class="form-control" id="descrizioneProdotto9" disabled>
                      <td><input type="text" class="form-control" id="prezzoProdotto9" disabled></td>
                      <td><input type="text" class="form-control" id="scontoProdotto9" disabled></td>	
                      <td><input type="text" class="form-control" id="importoProdotto9" disabled></td>
                    </tr>
					<tr>
                      <td><input type="text" class="form-control" id="quantitaProdotto10" disabled></td>
                      <td><input type="text" class="form-control" id="articoloProdotto10" disabled></td>
                      <td><input type="text" class="form-control" id="descrizioneProdotto10" disabled>
                      <td><input type="text" class="form-control" id="prezzoProdotto10" disabled></td>
                      <td><input type="text" class="form-control" id="scontoProdotto10" disabled></td>	
                      <td><input type="text" class="form-control" id="importoProdotto10" disabled></td>
                    </tr>
					<tr>
                      <td><input type="text" class="form-control" id="quantitaProdotto11" disabled></td>
                      <td><input type="text" class="form-control" id="articoloProdotto11" disabled></td>
                      <td><input type="text" class="form-control" id="descrizioneProdotto11" disabled>
                      <td><input type="text" class="form-control" id="prezzoProdotto11" disabled></td>
                      <td><input type="text" class="form-control" id="scontoProdotto11" disabled></td>	
                      <td><input type="text" class="form-control" id="importoProdotto11" disabled></td>
                    </tr>
					<tr>
                      <td><input type="text" class="form-control" id="quantitaProdotto12" disabled></td>
                      <td><input type="text" class="form-control" id="articoloProdotto12" disabled></td>
                      <td><input type="text" class="form-control" id="descrizioneProdotto12" disabled>
                      <td><input type="text" class="form-control" id="prezzoProdotto12" disabled></td>
                      <td><input type="text" class="form-control" id="scontoProdotto12" disabled></td>	
                      <td><input type="text" class="form-control" id="importoProdotto12" disabled></td>
                    </tr>
					<tr>
                      <td><input type="text" class="form-control" id="quantitaProdotto13" disabled></td>
                      <td><input type="text" class="form-control" id="articoloProdotto13" disabled></td>
                      <td><input type="text" class="form-control" id="descrizioneProdotto13" disabled>
                      <td><input type="text" class="form-control" id="prezzoProdotto13" disabled></td>
                      <td><input type="text" class="form-control" id="scontoProdotto13" disabled></td>	
                      <td><input type="text" class="form-control" id="importoProdotto13" disabled></td>
                    </tr>
					<tr>
                      <td><input type="text" class="form-control" id="quantitaProdotto14" disabled></td>
                      <td><input type="text" class="form-control" id="articoloProdotto14" disabled></td>
                      <td><input type="text" class="form-control" id="descrizioneProdotto14" disabled>
                      <td><input type="text" class="form-control" id="prezzoProdotto14" disabled></td>
                      <td><input type="text" class="form-control" id="scontoProdotto14" disabled></td>	
                      <td><input type="text" class="form-control" id="importoProdotto14" disabled></td>
                    </tr>
					<tr>
                      <td><input type="text" class="form-control" id="quantitaProdotto15" disabled></td>
                      <td><input type="text" class="form-control" id="articoloProdotto15" disabled></td>
                      <td><input type="text" class="form-control" id="descrizioneProdotto15" disabled>
                      <td><input type="text" class="form-control" id="prezzoProdotto15" disabled></td>
                      <td><input type="text" class="form-control" id="scontoProdotto15" disabled></td>	
                      <td><input type="text" class="form-control" id="importoProdotto15" disabled></td>
                    </tr>
                  </tbody>
				 </table>
                </div><!-- /.box-body -->
              </div><!-- /.box -->
			  <div class="box-footer" align="center">
					<button type="button" id="stampaTutto" class="btn btn-info">Stampa</button>&nbsp;
					<button type="button" id="reset" class="btn btn-info">Chiudi</button>&nbsp;
			  </div>
            </div>
          </div>
		</div><!-- /.content-wrapper -->
    </div><!-- ./wrapper -->

    <!-- jQuery 2.1.3 -->
    <!-- <script src="../../plugins/jQuery/jQuery-2.1.3.min.js"></script> -->
	<script>
		window.$ = window.jQuery = require('../../plugins/jQuery/jQuery-2.1.3.min.js');
		alert($);
	</script> 
    <!-- Bootstrap 3.3.2 JS -->
    <script src="../../bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <!-- DATA TABES SCRIPT -->
    <script src="../../plugins/datatables/jquery.dataTables.js" type="text/javascript"></script>
    <script src="../../plugins/datatables/dataTables.bootstrap.js" type="text/javascript"></script>
    <!-- SlimScroll -->
    <script src="../../plugins/slimScroll/jquery.slimscroll.min.js" type="text/javascript"></script>
    <!-- FastClick -->
    <script src='../../plugins/fastclick/fastclick.min.js'></script>
    <!-- AdminLTE App -->
    <script src="../../dist/js/app.min.js" type="text/javascript"></script>
    <!-- Parse -->
    <script src="../../dist/js/parse-1.4.2.min.js" type="text/javascript"></script>
    <!-- page script -->
    <script type="text/javascript">
		
		Parse.initialize("9Sxmi3NVV8hu4ANFXrukJ5Ub18Ehb8ec56ak2nha", "QrpzL5XpyI6kq5oniO1biQfoUX8p9Em1Hl0mnY5K");
		
		function resetAll(){
			$("#spanLettura1").attr("hidden","true");
			$("#spanLettura2").attr("hidden","true");
			$("#piva").val("");
			$("#riferimenti").val("");
			$("#indirizzo").val("");
			$("#codicefiscale").val("");
			$("#pagamenti").val("");
			$("#art").val("");
			$("#hidden").val("");
			$("#extNumb").val("");
			$("#data").val("");
			$("#imponibile").val("");
			$("#totale").val("");
			$("#iva").val("");
			$("#artDescr").val("");
			
			for ( var i = 0; i < 15; i++){
				$("#quantitaProdotto"+(i+1)).val("");
				$("#articoloProdotto"+(i+1)).val("");
				$("#descrizioneProdotto"+(i+1)).val("");
				$("#prezzoProdotto"+(i+1)).val("");
				$("#scontoProdotto"+(i+1)).val("");
				$("#importoProdotto"+(i+1)).val("");
			}
				
		}
		
		function reset(){
			$("#piva").val("");
			$("#riferimenti").val("");
			$("#indirizzo").val("");
			$("#codicefiscale").val("");
			$("#pagamenti").val("");
			$("#art").val("");
			$("#hidden").val("");
			$("#extNumb").val("");
			$("#data").val("");
			$("#imponibile").val("");
			$("#totale").val("");
			$("#iva").val("");
			$("#artDescr").val("");
			
			for ( var i = 0; i < 15; i++){
				$("#quantitaProdotto"+(i+1)).val("");
				$("#articoloProdotto"+(i+1)).val("");
				$("#descrizioneProdotto"+(i+1)).val("");
				$("#prezzoProdotto"+(i+1)).val("");
				$("#scontoProdotto"+(i+1)).val("");
				$("#importoProdotto"+(i+1)).val("");
			}
						
		}
		
		function stampaInvoice(id){
			reset();
			$("#spanLettura1").removeAttr("hidden");
			$("#spanLettura2").removeAttr("hidden");
			
			var yourClass = Parse.Object.extend("fatturaTestata");
			var FatturaDescrizione = Parse.Object.extend("fatturaDescrizione");
			var query = new Parse.Query(yourClass);
			query.get(id, {
			  success: function(yourObj) {
				$("#piva").val(yourObj.get("clientePIva"));
				$("#riferimenti").val(yourObj.get("clienteItestazione"));
				$("#indirizzo").val(yourObj.get("clienteIndirizzo"));
				$("#codicefiscale").val(yourObj.get("clienteCodiceFiscale"));
				$("#pagamenti").val(yourObj.get("pagamenti"));
				$("#art").val(yourObj.get("art"));
				
				$("#hidden").val(yourObj.get("extNumb"));
				$("#extNumb").val(yourObj.get("extNumb"));
				$("#data").val(yourObj.get("data"));
				$("#imponibile").val(yourObj.get("imponibile"));
				$("#totale").val(yourObj.get("totale"));
				$("#iva").val(yourObj.get("iva"));
				$("#artDescr").val(yourObj.get("artDescr"));
				
				var query = new Parse.Query(FatturaDescrizione);
				query.equalTo("fattExtNumb", yourObj.get("extNumb"));
				query.find({
					success: function(results) {
						for ( var i = 0; i < results.length; i++){
							var tmp = results[i];
							$("#quantitaProdotto"+(i+1)).val(tmp.get("quantita"));
							$("#articoloProdotto"+(i+1)).val(tmp.get("articolo"));
							$("#descrizioneProdotto"+(i+1)).val(tmp.get("descrizione"));
							$("#prezzoProdotto"+(i+1)).val(tmp.get("prezzo"));
							$("#scontoProdotto"+(i+1)).val(tmp.get("sconto"));
							$("#importoProdotto"+(i+1)).val(tmp.get("importo"));
						}
						
					},
					error: function(error) {
						console.error("Error: " + error.code + " " + error.message);
					}
				});	
				
			  },
			  error: function(object, error) {
				alert("Ci sono alcuni problemi col server");
			  }
			});
			
		}
		
	jQuery(document).ready(function($){
	
		$("#reset").click(function(e){
			resetAll();
		});
		
		$("#stampaTutto").click(function(e){
			var str = "riferimenti="+$("#riferimenti").val()+"&&indirizzo="+$("#indirizzo").val()+"&&cPiva="+$("#piva").val();
			str = str + "&&codicefiscale="+$("#codicefiscale").val()+"&&numExtFattura="+$("#extNumb").val()+"&&data="+$("#data").val();
			str = str + "&&quantitaProdotto1="+$("#quantitaProdotto1").val()+"&&articoloProdotto1="+$("#articoloProdotto1").val()+"&&descrizioneProdotto1="+$("#descrizioneProdotto1").val();
			str = str + "&&prezzoProdotto1="+$("#prezzoProdotto1").val()+"&&scontoProdotto1="+$("#scontoProdotto1").val()+"&&importoProdotto1="+$("#importoProdotto1").val();
			str = str + "&&quantitaProdotto2="+$("#quantitaProdotto2").val()+"&&articoloProdotto2="+$("#articoloProdotto2").val()+"&&descrizioneProdotto2="+$("#descrizioneProdotto2").val();
			str = str + "&&prezzoProdotto2="+$("#prezzoProdotto2").val()+"&&scontoProdotto2="+$("#scontoProdotto2").val()+"&&importoProdotto2="+$("#importoProdotto2").val();
			str = str + "&&quantitaProdotto3="+$("#quantitaProdotto3").val()+"&&articoloProdotto3="+$("#articoloProdotto3").val()+"&&descrizioneProdotto3="+$("#descrizioneProdotto3").val();
			str = str + "&&prezzoProdotto3="+$("#prezzoProdotto3").val()+"&&scontoProdotto3="+$("#scontoProdotto3").val()+"&&importoProdotto3="+$("#importoProdotto3").val();
			str = str + "&&quantitaProdotto4="+$("#quantitaProdotto4").val()+"&&articoloProdotto4="+$("#articoloProdotto4").val()+"&&descrizioneProdotto4="+$("#descrizioneProdotto4").val();
			str = str + "&&prezzoProdotto4="+$("#prezzoProdotto4").val()+"&&scontoProdotto4="+$("#scontoProdotto4").val()+"&&importoProdotto4="+$("#importoProdotto4").val();
			str = str + "&&quantitaProdotto5="+$("#quantitaProdotto5").val()+"&&articoloProdotto5="+$("#articoloProdotto5").val()+"&&descrizioneProdotto5="+$("#descrizioneProdotto5").val();
			str = str + "&&prezzoProdotto5="+$("#prezzoProdotto5").val()+"&&scontoProdotto5="+$("#scontoProdotto5").val()+"&&importoProdotto5="+$("#importoProdotto5").val();
			str = str + "&&quantitaProdotto6="+$("#quantitaProdotto6").val()+"&&articoloProdotto6="+$("#articoloProdotto6").val()+"&&descrizioneProdotto6="+$("#descrizioneProdotto6").val();
			str = str + "&&prezzoProdotto6="+$("#prezzoProdotto6").val()+"&&scontoProdotto6="+$("#scontoProdotto6").val()+"&&importoProdotto6="+$("#importoProdotto6").val();
			str = str + "&&quantitaProdotto7="+$("#quantitaProdotto7").val()+"&&articoloProdotto7="+$("#articoloProdotto7").val()+"&&descrizioneProdotto7="+$("#descrizioneProdotto7").val();
			str = str + "&&prezzoProdotto7="+$("#prezzoProdotto7").val()+"&&scontoProdotto7="+$("#scontoProdotto7").val()+"&&importoProdotto7="+$("#importoProdotto7").val();
			str = str + "&&quantitaProdotto8="+$("#quantitaProdotto8").val()+"&&articoloProdotto8="+$("#articoloProdotto8").val()+"&&descrizioneProdotto8="+$("#descrizioneProdotto8").val();
			str = str + "&&prezzoProdotto8="+$("#prezzoProdotto8").val()+"&&scontoProdotto8="+$("#scontoProdotto8").val()+"&&importoProdotto8="+$("#importoProdotto8").val();
			str = str + "&&quantitaProdotto9="+$("#quantitaProdotto9").val()+"&&articoloProdotto9="+$("#articoloProdotto9").val()+"&&descrizioneProdotto9="+$("#descrizioneProdotto9").val();
			str = str + "&&prezzoProdotto9="+$("#prezzoProdotto9").val()+"&&scontoProdotto9="+$("#scontoProdotto9").val()+"&&importoProdotto9="+$("#importoProdotto9").val();
			str = str + "&&quantitaProdotto10="+$("#quantitaProdotto10").val()+"&&articoloProdotto10="+$("#articoloProdotto10").val()+"&&descrizioneProdotto10="+$("#descrizioneProdotto10").val();
			str = str + "&&prezzoProdotto10="+$("#prezzoProdotto10").val()+"&&scontoProdotto10="+$("#scontoProdotto10").val()+"&&importoProdotto10="+$("#importoProdotto10").val();
			str = str + "&&quantitaProdotto11="+$("#quantitaProdotto11").val()+"&&articoloProdotto11="+$("#articoloProdotto11").val()+"&&descrizioneProdotto11="+$("#descrizioneProdotto11").val();
			str = str + "&&prezzoProdotto11="+$("#prezzoProdotto11").val()+"&&scontoProdotto11="+$("#scontoProdotto11").val()+"&&importoProdotto11="+$("#importoProdotto11").val();
			str = str + "&&quantitaProdotto12="+$("#quantitaProdotto12").val()+"&&articoloProdotto12="+$("#articoloProdotto12").val()+"&&descrizioneProdotto12="+$("#descrizioneProdotto12").val();
			str = str + "&&prezzoProdotto12="+$("#prezzoProdotto12").val()+"&&scontoProdotto12="+$("#scontoProdotto12").val()+"&&importoProdotto12="+$("#importoProdotto12").val();
			str = str + "&&quantitaProdotto13="+$("#quantitaProdotto13").val()+"&&articoloProdotto13="+$("#articoloProdotto13").val()+"&&descrizioneProdotto13="+$("#descrizioneProdotto13").val();
			str = str + "&&prezzoProdotto13="+$("#prezzoProdotto13").val()+"&&scontoProdotto13="+$("#scontoProdotto13").val()+"&&importoProdotto13="+$("#importoProdotto13").val();
			str = str + "&&quantitaProdotto14="+$("#quantitaProdotto14").val()+"&&articoloProdotto14="+$("#articoloProdotto14").val()+"&&descrizioneProdotto14="+$("#descrizioneProdotto14").val();
			str = str + "&&prezzoProdotto14="+$("#prezzoProdotto14").val()+"&&scontoProdotto14="+$("#scontoProdotto14").val()+"&&importoProdotto14="+$("#importoProdotto14").val();
			str = str + "&&quantitaProdotto15="+$("#quantitaProdotto15").val()+"&&articoloProdotto15="+$("#articoloProdotto15").val()+"&&descrizioneProdotto15="+$("#descrizioneProdotto15").val();
			str = str + "&&prezzoProdotto15="+$("#prezzoProdotto15").val()+"&&scontoProdotto15="+$("#scontoProdotto15").val()+"&&importoProdotto15="+$("#importoProdotto15").val();
			str = str + "&&imponibile="+$("#imponibile").val()+"&&iva="+$("#iva").val()+"&&art="+$("#art").val()+"&&nonImponibile="+$("#artDescr").val();
			str = str + "&&pagamenti="+$("#pagamenti").val()+"&&totale="+$("#totale").val();
			
			window.open( __dirname + "/stampaBackup.html??"+str,"_blank", "toolbar=yes, resizable=yes, width=1448, height=768");
			
		});
		
		var Invoice = Parse.Object.extend("fatturaTestata");
		var query = new Parse.Query(Invoice);
		query.find({
		  success: function(obj) {
			$("#tableInvoices tbody").empty();
			// The object was retrieved successfully.
			var str = "<thead><tr><th>N° Fattura</th><th>N° Fatt. Interna</th><th>Cliente</th><th>Data</th><th>P. Iva</th><th>Totale</th><th>Iva</th><th></th></tr></thead>";
			$("#tableInvoices").append(str);
			for (var i=0;i<obj.length;i++){	
				var tmp = obj[i];
				var stringTable = "<tr><td>"+tmp.get("extNumb")+"</td><td>"+tmp.get("intNumb")+"</td><td>"+tmp.get("clienteItestazione")+"</td><td>"+tmp.get("data")+"</td><td>"+tmp.get("clientePIva")+"</td><td>"+tmp.get("totale")+" €</td><td>"+tmp.get("iva")+"%</td>";
				stringTable = stringTable + '<td align="center"><div class="margin"><div class="btn-group"><button type="button" class="btn btn-info">Azione</button>';
                stringTable = stringTable + '<button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">';
                stringTable = stringTable + '<span class="caret"></span><span class="sr-only">Toggle Dropdown</span></button>';
                stringTable = stringTable + '<ul class="dropdown-menu" role="menu"><li><a href="#" onclick=stampaInvoice("'+tmp.id+'")>Lettura</a></li>';
				stringTable = stringTable + '</tr>';
				$("#tableInvoices").append(stringTable);		
			}
			str = "<tfoot><tr><th>N° Fattura</th><th>N° Fatt. Interna</th><th>Cliente</th><th>Data</th><th>P. Iva</th><th>Totale</th><th>Iva</th><th></th></tr></tfoot>";
			$("#tableInvoices").append(str);
			$("#tableInvoices").dataTable();
		  },
		  error: function(object, error) {
			// The object was not retrieved successfully.
			// error is a Parse.Error with an error code and message.
			alert(error);
		  }
		});
		
		
      });
    </script>
	

  </body>
</html>
